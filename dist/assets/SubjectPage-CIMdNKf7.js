import{c as g,u,a as j,b as f,j as e}from"./index-DujQnjn7.js";import{a as b}from"./subjects-NNsJmH-M.js";import{A as N}from"./arrow-left-CUU1O6Xt.js";import{m as w}from"./proxy-BFCT-_i_.js";import{C as v}from"./check-circle-DqKfnpJG.js";import{L as y}from"./lock-CKTROG7E.js";import{S as k}from"./star-CSWSp93I.js";import"./createLucideIcon-C1f9I39M.js";function E(){var m;const{subjectId:c}=g(),o=u(),{currentChild:d}=j(),{playSound:x}=f(),t=b(c),i=((m=d==null?void 0:d.progress)==null?void 0:m[c])||{completed:[],scores:{}};if(!t)return e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Môn học không tồn tại"}),e.jsx("button",{onClick:()=>o("/"),className:"mt-4 text-indigo-600",children:"Về trang chủ"})]});const h=s=>{x("click"),o(`/lesson/${c}/${s.id}`)},p=s=>{var r;if(s<3)return!1;const n=s-3,l=(r=t.lessons[n])==null?void 0:r.id;return!i.completed.includes(l)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:`bg-gradient-to-r ${t.color} text-white px-4 py-6`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>o(-1),className:"p-2 rounded-full hover:bg-white/20",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-4xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:t.name}),e.jsx("p",{className:"text-white/80",children:t.desc})]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Tiến độ"}),e.jsxs("span",{children:[i.completed.length,"/",t.lessons.length," bài"]})]}),e.jsx("div",{className:"h-2 bg-white/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full",style:{width:`${i.completed.length/t.lessons.length*100}%`}})})]})]}),e.jsx("div",{className:"p-4 space-y-3",children:t.lessons.map((s,n)=>{const l=i.completed.includes(s.id),r=i.scores[s.id],a=p(n);return e.jsx(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05},children:e.jsxs("button",{onClick:()=>!a&&h(s),disabled:a,className:`w-full p-4 rounded-2xl flex items-center gap-4 text-left transition-all ${a?"bg-gray-100 opacity-60":l?"bg-green-50 border-2 border-green-200":"bg-white shadow-lg hover:shadow-xl"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${l?"bg-green-500 text-white":a?"bg-gray-300 text-gray-500":`bg-gradient-to-r ${t.color} text-white`}`,children:l?e.jsx(v,{className:"w-5 h-5"}):a?e.jsx(y,{className:"w-4 h-4"}):n+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${a?"text-gray-400":"text-gray-800"}`,children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cấp độ ",s.level]})]}),l&&r&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[e.jsx(k,{className:"w-4 h-4 fill-amber-500"}),e.jsx("span",{className:"font-bold",children:r})]})]})},s.id)})})]})}export{E as default};
