import{u as w,a as y,b as k,j as e}from"./index-Bhf3JDob.js";import{g as C}from"./stories-BUclpc1Z.js";import{A as S}from"./arrow-left-CmvFFSD0.js";import{B as h}from"./book-open-BRlrMtDU.js";import{m as p}from"./proxy-Ba4FSeeL.js";import{C as A}from"./chevron-right-C-mucGC_.js";import{S as $}from"./star-DwBx6xJL.js";import{S as M}from"./sparkles-BSsZ8HvA.js";import"./createLucideIcon-CdyANGYr.js";function q(){var x;const m=w(),{currentChild:t}=y(),{playSound:g}=k(),f=C(),d=(t==null?void 0:t.storyProgress)||{},i=((x=t==null?void 0:t.stats)==null?void 0:x.streak)||0,j=(s,l)=>{const a=d[s];return a!=null&&a.completed?l:Math.min(Math.max(1,i),l)},u=s=>{g("click"),m(`/story/${s.id}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 pb-24",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>m("/"),className:"p-2 rounded-full hover:bg-white/20",children:e.jsx(S,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(h,{className:"w-7 h-7"})," Truyá»‡n Cá»• TÃ­ch"]}),e.jsx("p",{className:"text-white/80",children:"Há»c má»—i ngÃ y Ä‘á»ƒ má»Ÿ chÆ°Æ¡ng má»›i!"})]})]}),e.jsx("div",{className:"bg-white/20 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:"ðŸ”¥"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg",children:[i," ngÃ y liÃªn tiáº¿p"]}),e.jsx("p",{className:"text-white/80 text-sm",children:"Há»c tiáº¿p Ä‘á»ƒ má»Ÿ thÃªm chÆ°Æ¡ng!"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",children:i}),e.jsx("p",{className:"text-xs text-white/80",children:"chÆ°Æ¡ng má»Ÿ"})]})]})})]}),e.jsx("div",{className:"p-4 space-y-4",children:f.map((s,l)=>{var o;const a=j(s.id,s.totalChapters),n=((o=d[s.id])==null?void 0:o.lastChapter)||0,r=n>=s.totalChapters,N=Math.round(n/s.totalChapters*100);return e.jsxs(p.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},onClick:()=>u(s),className:"w-full bg-white rounded-2xl shadow-lg overflow-hidden text-left",children:[e.jsxs("div",{className:`bg-gradient-to-r ${s.color} p-4 flex items-center gap-4`,children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-xl flex items-center justify-center text-5xl",children:s.icon}),e.jsxs("div",{className:"flex-1 text-white",children:[e.jsx("h3",{className:"font-bold text-xl",children:s.title}),e.jsx("p",{className:"text-white/80 text-sm",children:s.titleEn}),e.jsx("p",{className:"text-white/90 text-sm mt-1",children:s.description})]}),e.jsx(A,{className:"w-6 h-6 text-white/80"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.totalChapters," chÆ°Æ¡ng"]})]}),e.jsx("div",{className:"flex items-center gap-1",children:r?e.jsxs("span",{className:"bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3 fill-green-500"})," HoÃ n thÃ nh"]}):e.jsxs("span",{className:"bg-amber-100 text-amber-600 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"})," ",a,"/",s.totalChapters," má»Ÿ"]})})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx(p.div,{initial:{width:0},animate:{width:`${N}%`},transition:{duration:.5,delay:l*.1},className:`h-full rounded-full ${r?"bg-green-500":"bg-gradient-to-r from-amber-400 to-orange-500"}`})}),e.jsx("div",{className:"flex gap-1 mt-3",children:Array.from({length:s.totalChapters}).map((H,c)=>{const b=c<n,v=c<a;return e.jsx("div",{className:`flex-1 h-1.5 rounded-full ${b?"bg-green-500":v?"bg-amber-300":"bg-gray-200"}`},c)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:n===0?"ðŸ“– ChÆ°a Ä‘á»c":r?"ðŸŽ‰ ÄÃ£ Ä‘á»c xong!":`ðŸ“– Äang Ä‘á»c chÆ°Æ¡ng ${n}`})]})]},s.id)})}),e.jsx("div",{className:"px-4 mb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-4",children:e.jsxs("p",{className:"text-purple-700 text-sm",children:[e.jsx("strong",{children:"ðŸ’¡ Máº¹o:"})," Há»c bÃ i má»—i ngÃ y Ä‘á»ƒ tÄƒng streak vÃ  má»Ÿ khÃ³a thÃªm chÆ°Æ¡ng truyá»‡n má»›i! Má»—i ngÃ y streak = 1 chÆ°Æ¡ng má»›i!"]})})})]})}export{q as default};
