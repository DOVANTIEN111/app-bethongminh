import{c as p,u as g,a as j,b as u,j as e}from"./index-Bhf3JDob.js";import{a as b}from"./subjects-NNsJmH-M.js";import{A as f}from"./arrow-left-CmvFFSD0.js";import{m as N}from"./proxy-Ba4FSeeL.js";import{C as w}from"./check-circle-B1NPJcNe.js";import{L as v}from"./lock-CBEFIUxV.js";import{S as y}from"./star-DwBx6xJL.js";import"./createLucideIcon-CdyANGYr.js";function I(){var d;const{subjectId:n}=p(),r=g(),{currentChild:o}=j(),{playSound:x}=u(),s=b(n),a=((d=o==null?void 0:o.progress)==null?void 0:d[n])||{completed:[],scores:{}};if(!s)return e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"Môn học không tồn tại"}),e.jsx("button",{onClick:()=>r("/"),className:"mt-4 text-indigo-600",children:"Về trang chủ"})]});const h=t=>{x("click"),r(`/lesson/${n}/${t.id}`)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:`bg-gradient-to-r ${s.color} text-white px-4 py-6`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>r(-1),className:"p-2 rounded-full hover:bg-white/20",children:e.jsx(f,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-4xl",children:s.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:s.name}),e.jsx("p",{className:"text-white/80",children:s.desc})]})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{children:"Tiến độ"}),e.jsxs("span",{children:[a.completed.length,"/",s.lessons.length," bài"]})]}),e.jsx("div",{className:"h-2 bg-white/30 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white rounded-full",style:{width:`${a.completed.length/s.lessons.length*100}%`}})})]})]}),e.jsx("div",{className:"p-4 space-y-3",children:s.lessons.map((t,i)=>{const c=a.completed.includes(t.id),m=a.scores[t.id],l=i>0&&!a.completed.includes(s.lessons[i-1].id);return e.jsx(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},children:e.jsxs("button",{onClick:()=>!l&&h(t),disabled:l,className:`w-full p-4 rounded-2xl flex items-center gap-4 text-left transition-all ${l?"bg-gray-100 opacity-60":c?"bg-green-50 border-2 border-green-200":"bg-white shadow-lg hover:shadow-xl"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${c?"bg-green-500 text-white":l?"bg-gray-300 text-gray-500":`bg-gradient-to-r ${s.color} text-white`}`,children:c?e.jsx(w,{className:"w-5 h-5"}):l?e.jsx(v,{className:"w-4 h-4"}):i+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-semibold ${l?"text-gray-400":"text-gray-800"}`,children:t.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Cấp độ ",t.level]})]}),c&&m&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[e.jsx(y,{className:"w-4 h-4 fill-amber-500"}),e.jsx("span",{className:"font-bold",children:m})]})]})},t.id)})})]})}export{I as default};
